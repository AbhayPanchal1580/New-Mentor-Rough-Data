-- Q.1 CREATE 'PRODUCT_DB' DATABASE
CREATE DATABASE PRODUCT_DB;
USE PRODUCT_DB;

-- Q.2 CREATE FOLLOWING TABLES

-- CATEGORIES:ID(PK), 
-- TITLE, DESCRIPTION
-- PRODUCTS:
-- ID(PK), TITLE, PRICE, DESCRIPTION, CATEGORY(FK), COMPANY
-- ORDERS:ID(PK), TOTAL, DATE
-- ORDER_DETAILS:ID(PK), ORDERID(FK), PRODUCTID(FK), QUANTITY, PRICE, TOTALPRICE, DISCOUNT
CREATE TABLE CATEGORIES
(
    ID INT IDENTITY(1,1)PRIMARY KEY,
    TITLE VARCHAR(20),
    DESCRIPTION VARCHAR(100)
);
CREATE TABLE PRODUCTS
(
    ID INT IDENTITY(1,1) PRIMARY KEY,
    TITLE VARCHAR(20),
    PRICE FLOAT,
    DESCRIPTION VARCHAR(50),
    CATEGORY INT,
    COMPANY VARCHAR(20),
    FOREIGN KEY (CATEGORY) REFERENCES CATEGORIES(ID)
);
CREATE TABLE ORDERS
(
    ID INT IDENTITY(1,1)PRIMARY KEY,
    TOTAL FLOAT,
    DATE DATE
);
CREATE TABLE ORDER_DETAILS
(
    ID INT IDENTITY(1,1)PRIMARY KEY,
    ORDERID INT,
    PRODUCTID INT,
    QUANTITY INT,
    PRICE FLOAT,
    TOTALPRICE AS PRICE*QUANTITY,
    DISCOUNT FLOAT,
    FOREIGN KEY(ORDERID)REFERENCES ORDERS(ID),
    FOREIGN KEY(PRODUCTID) REFERENCES PRODUCTS(ID)
);


-- Q.3 CREATE RELATIONSHIP AS SHOWN IN THE TABLE SCHEMA
DONE

-- Q.4 ADD SOME DUMMY DATA
INSERT INTO CATEGORIES
    (TITLE,DESCRIPTION)
VALUES
    ('MOBILE PHONE', 'MOBILE PHONES ARE ELECTRONIC DEVICES USED FOR COMMUNICATION'),
    ('LED TV', 'BEST QUALITY LED TV FOR BEST PERFORMANCE.'),
    ('LAPTOP', 'BEST LAPTOPTS FOR EVERY USER'),
    ('HEADPHONES', 'WIRED AND WIRELESS HEADPHONES OF BEST QUALITY');

INSERT INTO PRODUCTS
    (TITLE,PRICE,DESCRIPTION,CATEGORY,COMPANY)
VALUES
    ('REMI NOTE 4', 13000.00, 'WITH 64GB ROM AND 4GB RAM', 1, 'REDMI'),
    ('TCL FLEX 64', 16000.00, 'WITH 64 INCH SIZE AND HD QAALITY DISPLAY', 2, 'TCL'),
    ('HP15 AU3500U', 37000.00, 'WITH 1TB ROM AND 8GB RAM', 3, 'HP'),
    ('BOAT AIRDOPES 441PRO', 2500.00, '5 ATM, 5 HRS BACKUP', 4, 'BOAT'),
    ('REALME ROCKERZ', 1800.00, 'WIRED 7 HRS BACKUP', 4, 'REALME'),
    ('LG WIDE 64', 16000.00, 'WITH 64 INCH SIZE AND HD QUALITY DISPLAY', 2, 'LG'),
    ('DELL ASPIRON', 35000.00, 'WITH 1TB ROM AND 8GB RAM', 3, 'DELL');


INSERT INTO ORDERS
    (TOTAL,DATE)
VALUES
    (13000.00, '2022-10-24'),
    (16000.00, '2022-10-24'),
    (37000.00, '2022-10-24'),
    (2500.00, '2022-10-24'),
    (1800.00, '2022-10-24'),
    (16000.00, '2022-10-24'),
    (35000.00, '2022-10-24');

INSERT INTO ORDER_DETAILS
    (ORDERID,PRODUCTID,QUANTITY,PRICE,DISCOUNT)
VALUES
    (1, 1, 2, 13000.00, 5),
    (2, 2, 1, 16000.00, 10),
    (6, 6, 3, 16000.00, 5),
    (4, 4, 1, 2500.00, 5),
    (5, 5, 2, 1800.00, 5),
    (7, 7, 2, 35000.00, 5),
    (3, 3, 1, 37000.00, 5);
